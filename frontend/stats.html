<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Statistics - SplitEasy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-light">


  <!-- âœ… Navbar -->
  <div id="navbar" class="d-none d-md-block"></div>
  <!-- âœ… Mobile Navbar -->
  <div id="navbarMobile" class="d-md-none"></div>


  <div class="container my-4">
    <!-- Filters -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">ğŸ“… Filter by Date</h5>
        <div class="row g-3 align-items-end">
          <div class="col-md-3">
            <label for="fromDate" class="form-label">From:</label>
            <input type="date" id="fromDate" class="form-control" />
          </div>
          <div class="col-md-3">
            <label for="toDate" class="form-label">To:</label>
            <input type="date" id="toDate" class="form-control" />
          </div>
          <div class="col-md-3">
            <label class="form-label">Quick Filters:</label>
            <!-- <select id="quickFilter" class="form-select">
             <option value="">Custom Range</option>
              <option value="7">Last 7 days</option>
              <option value="30">Last 30 days</option>
              <option value="90">Last 3 months</option>
              <option value="365">Last year</option>
              </select>-->
            <!-- HTML -->
            <select id="dateFilter" class="form-select">
              <optgroup label="Quick Ranges">
                <option value="">-- Select --</option>
                <option value="today">Today</option>
                <option value="yesterday">Yesterday</option>
                <option value="last_7_days">Last 7 Days</option>
                <option value="last_28_days">Last 28 Days</option>
                <option value="last_90_days">Last 90 Days</option>
                <option value="last_365_days">Last 365 Days</option>
                <option value="lifetime">Lifetime</option>
              </optgroup>

              <optgroup label="Years" id="yearsGroup"></optgroup>
              <optgroup label="Months" id="monthsGroup"></optgroup>

              <optgroup label="Custom">
                <option value="custom">Custom Range</option>
              </optgroup>
            </select>
          </div>
          <div class="col-md-3">
            <button id="applyFilter" class="btn btn-primary w-100">
              <span id="filterText">Apply Filter</span>
              <span id="filterSpinner" class="spinner-border spinner-border-sm d-none" role="status"></span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Global Stats -->
    <div class="row text-center">
      <div class="col-md-3 col-6 mb-3">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6>Total</h6>
            <h4 id="totalExpenses" class="fw-bold text-success">0.00</h4>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6>Average</h6>
            <h4 id="avgExpenses" class="fw-bold text-primary">0.00</h4>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6>Max</h6>
            <h4 id="maxExpenses" class="fw-bold text-danger">0.00</h4>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6>Min</h6>
            <h4 id="minExpenses" class="fw-bold text-warning">0.00</h4>
          </div>
        </div>
      </div>
    </div>


    <!-- Expenses by Group -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">ğŸ˜ï¸ Expenses per Group</h5>
        <table class="table table-striped" id="groupTable">
          <thead>
            <tr>
              <th>Group</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>




    <!-- Charts Row -->
    <div class="row mb-4">
      <div class="col-md-8">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">ğŸ“Š Daily Expenses Trend</h5>
            <canvas id="dailyChart" height="100"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">ğŸ¥§ Expense Categories</h5>
            <canvas id="categoryChart" height="200"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Export Section -->
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">ğŸ“¤ Export Statistics</h5>
        <div class="d-flex gap-2">
          <button id="exportPDF" class="btn btn-outline-danger">
            <i class="bi bi-file-pdf"></i> Export PDF
          </button>
          <button id="exportCSV" class="btn btn-outline-success">
            <i class="bi bi-file-csv"></i> Export CSV
          </button>
          <button id="printStats" class="btn btn-outline-primary">
            <i class="bi bi-printer"></i> Print
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/stats.js"></script>
  <script src="js/navbar.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>